<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pet Corner - PawConnect</title>
    <link rel="stylesheet" href="css/pet_corner.css">    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <style>
        /* Navigation Bar Styles */
        .navbar {
            background: rgba(255, 255, 255, 0.95);
            padding: 0;
            margin-bottom: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
            margin-bottom: 20px;
        }

        .navbar-container {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0;
        }

        .navbar-menu {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
            gap: 0;
        }

        .navbar-item {
            position: relative;
        }

        .navbar-link {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 18px 25px;
            text-decoration: none;
            color: #333;
            font-weight: 500;
            font-size: 1rem;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
        }

        .navbar-link:hover {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
            border-bottom-color: #667eea;
        }

        .navbar-link.active {
            background: rgba(102, 126, 234, 0.15);
            color: #667eea;
            border-bottom-color: #667eea;
            font-weight: 600;
        }

        .navbar-icon {
            font-size: 1.1rem;
        }

        @media (max-width: 768px) {
            .navbar-menu {
                flex-direction: column;
                width: 100%;
            }
            
            .navbar-link {
                justify-content: center;
                padding: 15px 20px;
            }
        }

        @media (max-width: 480px) {
            .navbar-link {
                font-size: 0.9rem;
                padding: 12px 15px;
            }
            
            .navbar-link span {
                display: none;
            }
        }

        /* Logo section hover effects */
        .logo-section a:hover {
            transform: scale(1.02);
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">            <div class="logo-section">
                <a href="home.html" style="text-decoration: none; color: inherit; transition: all 0.3s ease;">
                    <img src="assets/logo.png" alt="PawConnect" class="logo" onerror="this.style.display='none'">
                    <h1 style="margin: 0;">PawConnect</h1>
                </a>
            </div>
            
            <div class="header-info">
                <div class="clock-section">
                    <div class="time" id="current-time">12:00 PM</div>
                    <div class="date" id="current-date">Today</div>
                </div>
                <div class="weather-section">
                    <i class="fas fa-cloud-sun"></i>
                    <span>22Â°C</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="navbar-container">
            <ul class="navbar-menu">
                <li class="navbar-item">
                    <a href="dashboard.html" class="navbar-link">
                        <i class="fas fa-tachometer-alt navbar-icon"></i> <span>Dashboard</span>
                    </a>
                </li>
                <li class="navbar-item">
                    <a href="pet_corner.html" class="navbar-link active">
                        <i class="fas fa-paw navbar-icon"></i> <span>Pet Corner</span>
                    </a>
                </li>
                <li class="navbar-item">
                    <a href="pet_adoption_feed.html" class="navbar-link">
                        <i class="fas fa-heart navbar-icon"></i> <span>Adoption Feed</span>
                    </a>
                </li>
                <li class="navbar-item">
                    <a href="pet_community.html" class="navbar-link">
                        <i class="fas fa-comments navbar-icon"></i> <span>Community</span>
                    </a>
                </li>                <li class="navbar-item">
                    <a href="vet_appointment.html" class="navbar-link">
                        <i class="fas fa-stethoscope navbar-icon"></i> <span>Vet Appointments</span>
                    </a>
                </li>
                <li class="navbar-item">
                    <a href="shop_feed.html" class="navbar-link">
                        <i class="fas fa-shopping-cart navbar-icon"></i> <span>Pet Shop</span>
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Welcome Section -->
    <section class="welcome-section">
        <div class="welcome-content">
            <div class="welcome-icon">
                <i class="fas fa-paw"></i>
            </div>
            <h2>Welcome to Pet Corner</h2>
            <p>Your personal space to manage, share, and celebrate your beloved pets. Upload photos, track their health, and connect with fellow pet lovers.</p>
            
            <div class="welcome-features">
                <div class="feature">
                    <i class="fas fa-camera"></i>
                    <span>Share Photos</span>
                </div>
                <div class="feature">
                    <i class="fas fa-heart"></i>
                    <span>Track Health</span>
                </div>
                <div class="feature">
                    <i class="fas fa-users"></i>
                    <span>Connect</span>
                </div>
                <div class="feature">
                    <i class="fas fa-calendar"></i>
                    <span>Schedule Care</span>
                </div>
            </div>
            
            <div class="welcome-actions">
                <button class="btn btn-primary" onclick="showUserDashboard()">
                    <i class="fas fa-plus"></i> Add Pet
                </button>
                <button class="btn btn-outline" onclick="showTab('gallery')">
                    <i class="fas fa-images"></i> Photo Gallery
                </button>
                <button class="btn btn-outline" onclick="showTab('activities')">
                    <i class="fas fa-list"></i> Activities
                </button>
            </div>              <div class="welcome-note">
                <p><strong>Note:</strong> You can add and manage pets directly. All pets are saved to the database automatically.</p>
            </div>
        </div>
    </section>

    <!-- User Dashboard (Hidden by default) -->
    <section class="user-dashboard" id="user-dashboard" style="display: none;">
        <div class="tab-navigation">
            <button class="tab-btn active" onclick="showTab('my-pets')">
                <i class="fas fa-paw"></i> My Pets
            </button>
            <button class="tab-btn" onclick="showTab('upload')">
                <i class="fas fa-plus"></i> Add Pet
            </button>
            <button class="tab-btn" onclick="showTab('gallery')">
                <i class="fas fa-images"></i> Photo Gallery
            </button>
            <button class="tab-btn" onclick="showTab('activities')">
                <i class="fas fa-list"></i> Activities
            </button>
        </div>

        <!-- My Pets Tab -->
        <div id="my-pets" class="tab-content active">
            <div class="tab-header">
                <h2>My Pets</h2>
                <button class="btn btn-primary" onclick="showTab('upload')">
                    <i class="fas fa-plus"></i> Add New Pet
                </button>
            </div>
            
            <div id="pets-container" class="gallery-content">
                <!-- Dynamic pet cards will be loaded here -->
                <div class="photo-post-card">
                    <div class="post-header">
                        <i class="fas fa-paw" style="font-size: 2rem; color: #6f87f7;"></i>
                        <div class="post-author-info">
                            <div class="post-author-name">Add Your First Pet</div>
                            <div class="post-meta">Click "Add New Pet" to get started</div>
                        </div>
                    </div>
                    <div class="post-photo">
                        <div style="height: 250px; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #6f87f7, #764ba2); color: white;">
                            <i class="fas fa-plus" style="font-size: 3rem;"></i>
                        </div>
                    </div>
                    <div class="post-caption">Start by adding your first pet to create your pet corner!</div>
                </div>
            </div>
        </div>

        <!-- Add Pet Tab -->
        <div id="upload" class="tab-content">
            <div class="tab-header">
                <h2>Add New Pet</h2>
                <button class="btn btn-outline" onclick="showTab('my-pets')">
                    <i class="fas fa-arrow-left"></i> Back to My Pets
                </button>
            </div>
            
            <form id="pet-upload-form" class="pet-form">                <div class="upload-section">
                    <div class="upload-area" onclick="document.getElementById('pet-photo').click()" 
                         ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">
                        <div class="upload-icon">
                            <i class="fas fa-cloud-upload-alt"></i>
                        </div>
                        <h3>Upload Pet Photo</h3>
                        <p>Click here or drag and drop your pet's photo</p>
                        <input type="file" id="pet-photo" name="pet_photo" accept="image/*" style="display: none;" onchange="previewImage(this)">
                    </div>                    <div id="image-preview" style="display: none; margin-top: 1rem; text-align: center;">
                        <img id="preview-img" src="" alt="Preview" style="max-width: 200px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
                        <p style="margin-top: 0.5rem; font-size: 0.9rem; color: #666;">Photo ready to upload</p>
                        <button type="button" onclick="removePhoto()" style="margin-top: 0.5rem; background: #dc3545; color: white; border: none; padding: 0.25rem 0.75rem; border-radius: 4px; font-size: 0.8rem; cursor: pointer;">
                            <i class="fas fa-times"></i> Remove Photo
                        </button>
                    </div>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label for="pet-name">Pet Name *</label>
                        <input type="text" id="pet-name" name="pet_name" required>
                    </div>
                    <div class="form-group">
                        <label for="pet-type">Pet Type *</label>
                        <select id="pet-type" name="pet_type" required>
                            <option value="">Select Type</option>
                            <option value="dog">Dog</option>
                            <option value="cat">Cat</option>
                            <option value="bird">Bird</option>
                            <option value="fish">Fish</option>
                            <option value="rabbit">Rabbit</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="pet-breed">Breed</label>
                        <input type="text" id="pet-breed" name="pet_breed" placeholder="e.g., Golden Retriever">
                    </div>
                    <div class="form-group">
                        <label for="pet-age">Age</label>
                        <input type="text" id="pet-age" name="pet_age" placeholder="e.g., 2 years">
                    </div>
                    <div class="form-group">
                        <label for="pet-gender">Gender</label>
                        <select id="pet-gender" name="pet_gender">
                            <option value="">Select Gender</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="pet-weight">Weight</label>
                        <input type="text" id="pet-weight" name="pet_weight" placeholder="e.g., 25 kg">
                    </div>
                </div>                <div class="form-group">
                    <label for="pet-description">Description</label>
                    <textarea id="pet-description" name="pet_description" rows="4" placeholder="Tell us about your pet..."></textarea>
                </div>

                <!-- Adoption Section -->
                <div class="adoption-section">
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="mark-for-adoption" name="mark_for_adoption" onchange="toggleAdoptionDetails()">
                            <span class="checkbox-text">
                                <i class="fas fa-heart"></i> Mark this pet for adoption
                            </span>
                        </label>
                        <small class="help-text">Check this box if you'd like to put your pet up for adoption</small>
                    </div>
                    
                    <div id="adoption-details" class="adoption-details" style="display: none;">
                        <div class="form-group">
                            <label for="adoption-reason">Reason for Adoption *</label>
                            <select id="adoption-reason" name="adoption_reason">
                                <option value="">Select reason</option>
                                <option value="relocation">Moving/Relocation</option>
                                <option value="allergies">Family allergies</option>
                                <option value="time">Not enough time</option>
                                <option value="financial">Financial constraints</option>
                                <option value="behavioral">Behavioral issues</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="adoption-notes">Additional Notes</label>
                            <textarea id="adoption-notes" name="adoption_notes" rows="3" placeholder="Any special care instructions or information for potential adopters..."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="adoption-fee">Adoption Fee (Optional)</label>
                            <input type="number" id="adoption-fee" name="adoption_fee" min="0" step="0.01" placeholder="0.00">
                            <small class="help-text">Leave blank for free adoption</small>
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="urgent-adoption" name="urgent_adoption">
                                <span class="checkbox-text">
                                    <i class="fas fa-exclamation-triangle"></i> Urgent adoption needed
                                </span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i> Add Pet
                    </button>
                    <button type="button" class="btn btn-secondary" onclick="resetForm()">
                        <i class="fas fa-redo"></i> Reset
                    </button>
                </div>
            </form>
        </div>

        <!-- Gallery Tab -->
        <div id="gallery" class="tab-content">
            <div class="tab-header">
                <h2>Photo Gallery</h2>
                <div class="gallery-filters">
                    <button class="btn btn-sm active" onclick="filterGallery('all')">All Photos</button>
                    <button class="btn btn-sm" onclick="filterGallery('recent')">Recent</button>
                    <button class="btn btn-sm" onclick="filterGallery('favorites')">Favorites</button>
                </div>
            </div>

            <div id="gallery-container" class="gallery-content">
                <!-- Dynamic gallery items will be loaded here -->
                <div class="photo-post-card">
                    <div class="post-photo">
                        <div style="height: 250px; display: flex; align-items: center; justify-content: center; background: #f8f9fa; color: #666;">
                            <div style="text-align: center;">
                                <i class="fas fa-images" style="font-size: 3rem; margin-bottom: 1rem;"></i>
                                <h3>No Photos Yet</h3>
                                <p>Start by adding your first pet to see photos here</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Activities Tab -->
        <div id="activities" class="tab-content">
            <div class="tab-header">
                <h2>Recent Activities</h2>
                <button class="btn btn-outline" onclick="addActivity()">
                    <i class="fas fa-plus"></i> Add Activity
                </button>
            </div>

            <div id="activities-container" class="activities-list">
                <div class="activity-item">
                    <div class="activity-icon">
                        <i class="fas fa-paw"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">Welcome to Pet Corner!</div>
                        <div class="activity-description">Start by adding your first pet to track activities</div>
                        <div class="activity-time">Just now</div>
                    </div>
                </div>            </div>
        </div>
    </section>

    <script>
        // Update time and date
        function updateDateTime() {
            const now = new Date();
            const timeElement = document.getElementById('current-time');
            const dateElement = document.getElementById('current-date');
            
            if (timeElement) {
                timeElement.textContent = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            }
            if (dateElement) {
                dateElement.textContent = now.toLocaleDateString('en-US', {weekday: 'short', month: 'short', day: 'numeric'});
            }
        }

        // Show user dashboard
        function showUserDashboard() {
            document.querySelector('.welcome-section').style.display = 'none';
            document.getElementById('user-dashboard').style.display = 'block';
        }

        // Show welcome section
        function showWelcomeSection() {
            document.querySelector('.welcome-section').style.display = 'flex';
            document.getElementById('user-dashboard').style.display = 'none';
        }        // Tab functionality
        function showTab(tabName) {
            // Update tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Update tab content
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Show selected tab
            const tabContent = document.getElementById(tabName);
            if (tabContent) {
                tabContent.classList.add('active');
            }
            
            // Activate corresponding button
            const tabButton = document.querySelector(`[onclick*="showTab('${tabName}')"]`);
            if (tabButton) {
                tabButton.classList.add('active');
            }
            
            // Notify pet corner backend if available
            if (window.petCorner && typeof window.petCorner.showTab === 'function') {
                window.petCorner.showTab(tabName);
            }
        }        // Image preview functionality
        function previewImage(input) {
            if (input.files && input.files[0]) {
                const file = input.files[0];
                
                // Validate file size (5MB max)
                if (file.size > 5 * 1024 * 1024) {
                    alert('File size too large. Maximum size is 5MB.');
                    return;
                }
                
                // Validate file type
                if (!file.type.startsWith('image/')) {
                    alert('Please select only image files (JPG, PNG, GIF)');
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    const preview = document.getElementById('image-preview');
                    const img = document.getElementById('preview-img');
                    img.src = e.target.result;
                    preview.style.display = 'block';
                    
                    // Update the preview text with file name
                    const previewText = preview.querySelector('p');
                    if (previewText) {
                        previewText.textContent = `${file.name} (${(file.size / 1024 / 1024).toFixed(2)} MB)`;
                    }
                }
                reader.readAsDataURL(file);
            }
        }

        // Drag and drop functionality
        function handleDragOver(e) {
            e.preventDefault();
            e.stopPropagation();
            e.currentTarget.style.borderColor = '#6f87f7';
            e.currentTarget.style.backgroundColor = 'rgba(111, 135, 247, 0.1)';
        }

        function handleDragLeave(e) {
            e.preventDefault();
            e.stopPropagation();
            e.currentTarget.style.borderColor = '';
            e.currentTarget.style.backgroundColor = '';
        }

        function handleDrop(e) {
            e.preventDefault();
            e.stopPropagation();
            e.currentTarget.style.borderColor = '';
            e.currentTarget.style.backgroundColor = '';

            const files = e.dataTransfer.files;
            if (files.length > 0) {
                const file = files[0];
                if (file.type.startsWith('image/')) {
                    const input = document.getElementById('pet-photo');
                    input.files = files;
                    previewImage(input);
                } else {
                    alert('Please drop only image files (JPG, PNG, GIF)');
                }
            }
        }        // Remove photo preview
        function removePhoto() {
            const input = document.getElementById('pet-photo');
            const preview = document.getElementById('image-preview');
            input.value = '';
            preview.style.display = 'none';
            document.getElementById('preview-img').src = '';
        }

        // Reset form
        function resetForm() {
            document.getElementById('pet-upload-form').reset();
            const preview = document.getElementById('image-preview');
            if (preview) {
                preview.style.display = 'none';
                const img = document.getElementById('preview-img');
                if (img) img.src = '';
            }
        }

        // Gallery filters
        function filterGallery(filter) {
            document.querySelectorAll('.gallery-filters .btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            console.log('Filtering gallery by:', filter);
        }        // Add activity
        function addActivity() {
            alert('Add activity functionality would be implemented here');
        }

        // Toggle adoption details
        function toggleAdoptionDetails() {
            const checkbox = document.getElementById('mark-for-adoption');
            const details = document.getElementById('adoption-details');
            const reasonField = document.getElementById('adoption-reason');
            
            if (checkbox.checked) {
                details.style.display = 'block';
                reasonField.setAttribute('required', 'required');
            } else {
                details.style.display = 'none';
                reasonField.removeAttribute('required');
                // Clear adoption fields
                document.getElementById('adoption-reason').value = '';
                document.getElementById('adoption-notes').value = '';
                document.getElementById('adoption-fee').value = '';
                document.getElementById('urgent-adoption').checked = false;
            }
        }

        // Form submission
        document.addEventListener('DOMContentLoaded', function() {
            updateDateTime();
            setInterval(updateDateTime, 60000); // Update every minute            // Initialize pet corner backend integration
            if (typeof PetCorner !== 'undefined') {
                window.petCorner = new PetCorner();
            }
        });    </script>

    <!-- Backend Integration -->
    <script src="js/session-manager.js"></script>
    <script src="js/pet-corner.js"></script>
</body>
</html>